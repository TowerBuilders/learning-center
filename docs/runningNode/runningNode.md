# Running an Ontology Node for Development

### First, get the Ontology source code

Clone the Ontology repository into the appropriate $GOPATH/src/github.com/ontio directory.

```
$ git clone https://github.com/ontio/ontology.git
```
or
```
$ go get github.com/ontio/ontology
```
Fetch the dependent third party packages with glide.
```
$ cd $GOPATH/src/github.com/ontio/ontology
$ glide install
```
If necessary, update dependent third party packages with glide.
```
$ cd $GOPATH/src/github.com/ontio/ontology
$ glide update
```
Build the source code with make.
```
$ make all
```
After building the source code sucessfully, you should see two executable programs:
- `ontology`: the node program/command line program for node control.
- `tools/sigsvr`: (optional) Ontology Signature Server - sigsvr is a RPC server for signing transactions for some special requirements. Detailed docs can be found [here](https://github.com/ontio/documentation/blob/master/docs/pages/doc_en/Ontology/sigsvr_en.md).

### You can run Ontology in four different modes:

**1) MainNet (./ontology)**

**2) TestNet (./ontology --networkid**

**3) Testmode (./ontology --testmode)**

**4) Docker**

E.g. for Windows (64-bit), use command prompt and cd to the dirctory where you installed the Ontology release, then type `start ontology-windows-amd64.exe --networkid` 2. This will sync to TestNet and you can explore further by the help command `ontology-windows-amd64.exe --networkid 2 help`.

### MainNet sync node

Run ontology directly

```
./ontology
```

then you can connect to Ontology MainNet.

### Public test network Polaris sync node (TestNet)

Run ontology directly

```
./ontology --networkid 2
```

Then you can connect to the Ontology TestNet.

### Testmode
Create a directory on the host and store the following files in the directory:
 - Node program `ontology`
 - Wallet file `wallet.dat` (`wallet.dat` can be generated by `./ontology account add -d`)

 Run command `$ ./ontology --testmode` can start single-host testnet.

 Here's a example of a single-host configuration:

      - Directory structure
```shell
$ tree
└── ontology
>  ├── ontology
>  └── wallet.dat
```

### Run in docker

Please ensure there is a docker environment in your machine.

1. Make docker image
  - In the root directory of source code, run `make docker`, it will make an Ontology image in docker.

2. Run Ontology image
  - Use command `docker run ontio/ontology` to run Ontology；
  - If you need to allow interactive keyboard input while the image is running, you can use the `docker run -ti ontio/ontology` command to start the image;
  - If you need to keep the data generated by image at runtime, you can refer to the data persistence function of docker (e.g. volume);
  - If you need to add Ontology parameters, you can add them directly after `docker run ontio/ontology` such as `docker run ontio/ontology --networkid 2`. The parameters of ontology command line refer to [here](https://github.com/ontio/ontology/blob/master/docs/specifications/cli_user_guide.md).
